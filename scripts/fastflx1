#!/bin/bash

yad --name="fastflx1" \
    --title="FastFLX1" \
    --text="Fast tweaks for FLX1" \
    --text-align=center \
    --form \
    --field="Go to staging":fbtn "kgx -- bash -c 'sudo apt install furios-apt-config-staging furios-apt-config-debian-staging -y && sudo apt update && sudo apt install furios-apt-krypton-staging -y && sudo apt update && sudo apt upgrade -y --allow-downgrades && sudo apt update && sudo apt upgrade -y --allow-downgrades'" \
    --field="Go to production":fbtn "kgx -- bash -c 'sudo apt remove furios-apt-config-staging furios-apt-config-debian-staging furios-apt-config-krypton-staging -y && sudo apt update && sudo apt upgrade -y --allow-downgrades && sudo apt update && sudo apt upgrade -y --allow-downgrades'" \
    --field="Install/remove Branchy app":fbtn "kgx -e 'bash -c \"if dpkg -l | grep -q furios-app-branchy; then sudo apt remove -y furios-app-branchy; else sudo apt install -y furios-app-branchy; fi\"'" \
    --field="Upgrade FuriOS":fbtn "kgx -- bash -c 'sudo apt update && sudo apt upgrade -y --allow-downgrades && sudo apt update && sudo apt upgrade -y --allow-downgrades'" \
    --field="Set city to Weather":fbtn "kgx -- bash -c 'gnome-weather-location'" \
    --field="Start Tweak services":fbtn "bash -c 'dialtone & alarmvol & gen-thumbnails & gesture-shortcuts & vol-buttons & selfdestroy'" \
    --field="Stop Tweak services":fbtn "bash -c 'while pgrep -f \"dialtone\" || pgrep -f \"alarmvol\" || pgrep -f \"gen-thumbnails\" || pgrep -f \"gesture-shortcuts\" || pgrep -f \"vol-buttons\" || pgrep -f \"selfdestroy\"; do pkill -f \"dialtone\"; pkill -f \"alarmvol\"; pkill -f \"gen-thumbnails\"; pkill -f \"gesture-shortcuts\"; pkill -f \"vol-buttons\"; pkill -f \"selfdestroy\"; done'" \
    --buttons-layout=center \
    --button="Quit"

